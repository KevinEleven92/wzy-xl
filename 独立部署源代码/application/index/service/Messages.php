<?php
 namespace app\index\service; use think\Log; use think\Debug; use think\Db; use app\index\logic\Messages as MessagesLogic; use app\index\logic\Admins as AdminsLogic; class Messages extends Base { public function __construct() { } public function sendAdminMessage($title = '', $content = '') { goto hoBel; Vmdls: YqTAi: goto IMkPO; Zo0Du: $adminIds = $adminsLogic->getAdminIds(); goto W1qPI; W1qPI: foreach ($adminIds as $adminId) { goto hTq8f; iV03N: if ($messageId) { goto KUa6q; } goto auQlC; hTq8f: $messageId = $messagesLogic->add(MessagesLogic::MESSAGE_ADMIN_SYSTEM_CATEGORY, empty($title) ? MessagesLogic::$messageCategoryDefs[MessagesLogic::MESSAGE_ADMIN_SYSTEM_CATEGORY] : mb_substr($title, 0, 200), empty($content) ? MessagesLogic::$messageCategoryDefs[MessagesLogic::MESSAGE_ADMIN_SYSTEM_CATEGORY] : $content, $adminId); goto iV03N; H_yOL: KUa6q: goto y2qZB; y2qZB: pSGK8: goto FEjCt; auQlC: Log::error("\146\x61\151\154\145\x64\40\164\157\x20\141\144\x64\x20\x6d\145\x73\x73\141\x67\x65\40\164\x6f\40{$adminId}"); goto H_yOL; FEjCt: } goto Vmdls; hoBel: $messagesLogic = MessagesLogic::newObj(); goto Eeg3T; Eeg3T: $adminsLogic = AdminsLogic::newObj(); goto Zo0Du; IMkPO: return true; goto NU_5b; NU_5b: } }
