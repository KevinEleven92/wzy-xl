<?php
 namespace app\index\logic; use app\index\model\Setting; use think\Debug; use think\Db; use think\Log; use think\Request; use think\Session; use app\index\logic\Defs; class Config extends Base { protected function __construct() { parent::__construct(); } public function loadFieldItems() { goto iFaeB; h0VZ0: $totalCount = Db::table("\145\170\160\x65\x72\164\x5f\146\151\x65\x6c\144\137\151\164\x65\x6d")->where($conditions)->count(); goto QG8dR; v7NXV: CclZW: goto Kpvkq; Kpvkq: return array_merge($records, $recordsEx); goto ioiaa; QG8dR: $records = Db::table("\x65\170\x70\145\162\164\x5f\x66\x69\x65\154\x64\137\x69\164\145\x6d")->alias("\111")->join("\145\170\160\x65\x72\x74\x5f\x66\151\x65\x6c\x64\40\x46", "\111\x2e\146\151\x65\154\144\137\x69\x64\75\106\x2e\151\x64")->where($conditions)->order("\x49\x2e\x66\151\145\x6c\144\x5f\x69\144\x20\x61\163\x63")->field("\111\x2e\x69\x64\x2c\x49\56\146\151\x65\x6c\x64\x5f\151\x74\x65\x6d\54\x46\x2e\x66\151\145\154\x64\54\106\x2e\151\144\40\x61\x73\x20\x66\151\x65\154\144\137\151\x64\54\x63\157\156\x63\x61\x74\x28\106\56\x69\x64\54\40\47\100\x27\54\40\x46\x2e\146\x69\x65\x6c\x64\51\x20\141\x73\40\147\162\157\165\x70\137\x66\151\145\x6c\x64")->select(); goto DYAAW; erh1N: foreach ($recordsEx as &$recordEx) { goto XpPXr; is222: ljgOj: goto hbx1b; XpPXr: $recordEx["\x69\144"] = 0; goto Ya8I5; Ya8I5: $recordEx["\146\x69\145\x6c\144\x5f\x69\x74\145\x6d"] = ''; goto is222; hbx1b: } goto v7NXV; iFaeB: $conditions = []; goto h0VZ0; DYAAW: $recordsEx = Db::table("\145\x78\x70\x65\x72\164\x5f\146\151\x65\x6c\x64")->where(["\x69\x64" => ["\156\x6f\x74\40\151\x6e", function ($query) { $query->table("\145\x78\x70\145\162\x74\x5f\x66\x69\x65\154\x64\137\151\164\x65\155")->field("\x66\x69\x65\154\x64\x5f\x69\x64"); }]])->field("\x69\144\40\141\x73\x20\x66\151\145\154\144\x5f\x69\144\x2c\40\x66\x69\x65\154\x64\x2c\40\143\x6f\156\x63\x61\x74\x28\x69\x64\54\x20\x27\x40\x27\54\x20\x66\x69\145\x6c\x64\x29\x20\x61\x73\x20\147\x72\x6f\x75\x70\x5f\146\151\145\x6c\x64")->select(); goto erh1N; ioiaa: } public function getFieldItemInfos($id) { $infos = Db::table("\145\170\160\x65\162\164\137\x66\x69\x65\x6c\x64\137\151\x74\x65\155")->where("\151\144", $id)->field(true)->find(); return $infos; } public function saveFieldItem($id = 0, $infos) { goto aprnY; qZKRX: return true; goto rUxV9; VYBRY: Db::table("\145\x78\x70\x65\162\164\x5f\146\151\x65\154\x64\137\x69\164\x65\x6d")->insert($infos); goto cHkfN; nFrIN: E7C5N: goto IVA2e; IVA2e: Db::table("\145\x78\160\145\162\164\137\x66\x69\145\x6c\144\x5f\151\164\145\x6d")->where("\151\x64", $id)->update($infos); goto PI2IE; cHkfN: goto MVIM0; goto nFrIN; aprnY: if ($id) { goto E7C5N; } goto VYBRY; PI2IE: MVIM0: goto qZKRX; rUxV9: } public function deleteFieldItem($id) { goto U2Ym1; U2Ym1: Db::table("\145\x78\x70\x65\162\x74\x5f\146\x69\145\x6c\x64\x5f\x69\x74\x65\x6d")->where("\x69\144", $id)->delete(); goto Z4lKQ; SAE99: return true; goto WCJkI; Z4lKQ: Db::table("\145\x78\160\145\162\x74\x5f\146\x69\x65\x6c\144\x5f\x72\145\154\x61\164\x65")->where("\146\x69\145\154\144\x5f\x69\164\145\155\137\151\x64", $id)->delete(); goto SAE99; WCJkI: } public function getFieldInfos($id) { $infos = Db::table("\x65\x78\160\145\x72\x74\137\146\151\x65\154\144")->where("\151\144", $id)->field(true)->find(); return $infos; } public function saveField($id = 0, $infos) { goto rZyzW; JIKmf: Db::table("\145\x78\160\x65\162\x74\x5f\x66\x69\x65\x6c\x64")->insert($infos); goto FoVlE; rZyzW: if ($id) { goto Lhfox; } goto JIKmf; qS5Ps: Db::table("\x65\170\x70\145\162\x74\x5f\x66\151\145\154\x64")->where("\x69\144", $id)->update($infos); goto qhb0i; rYcFm: Lhfox: goto qS5Ps; qhb0i: h_C7F: goto pFo9E; FoVlE: goto h_C7F; goto rYcFm; pFo9E: return true; goto hvlCy; hvlCy: } public function deleteField($id) { goto b2MKm; b2MKm: Db::table("\145\170\x70\145\162\x74\x5f\146\151\145\x6c\144")->where("\151\144", $id)->delete(); goto hglZK; hglZK: Db::table("\145\170\x70\145\x72\164\x5f\x66\x69\x65\154\144\x5f\x69\x74\x65\155")->where("\146\151\x65\x6c\144\x5f\x69\x64", $id)->delete(); goto SRbIi; oNVTy: return true; goto gwoGn; SRbIi: Db::table("\x65\x78\x70\145\162\164\x5f\146\x69\145\x6c\x64\x5f\162\145\x6c\x61\x74\x65")->where("\x66\151\145\154\x64\x5f\x69\x64", $id)->delete(); goto oNVTy; gwoGn: } public function loadCategories() { goto oJ1Wi; POARK: foreach ($records as &$record) { $record["\151\155\x67\137\x75\x72\x6c"] = generateThumbnailUrl($record["\151\x6d\x67\137\x75\162\154"], 100); UrPGI: } goto Xky1v; WRrrF: return $records; goto XHoVH; oJ1Wi: $records = Db::table("\143\141\x74\145\147\157\x72\151\x65\163")->field("\52")->order("\x73\157\x72\x74\x20\x61\x73\x63")->select(); goto POARK; Xky1v: Q4noJ: goto WRrrF; XHoVH: } public function getCategoryInfos($id) { $infos = Db::table("\x63\x61\164\145\x67\157\162\151\145\163")->where("\151\x64", $id)->field("\52")->find(); return $infos; } public function saveCategory($id, $infos) { goto OVt68; oACk3: goto HzUwH; goto YUvqX; Ebrh3: return true; goto CGe4g; dXpHH: HzUwH: goto Ebrh3; dSxhW: Db::table("\x63\141\x74\145\x67\157\162\151\x65\x73")->insert($infos); goto oACk3; YUvqX: N5bnG: goto Itxb9; OVt68: if ($id) { goto N5bnG; } goto dSxhW; Itxb9: Db::table("\x63\141\164\x65\147\x6f\x72\151\145\163")->where("\x69\x64", $id)->update($infos); goto dXpHH; CGe4g: } public function deleteCategory($id) { goto Sggkv; SSY3o: Db::table("\163\x75\x62\152\145\143\x74\x5f\143\x61\x74\x65\147\157\x72\171\137\162\145\154\x61\164\x65")->where("\x63\x61\164\145\147\157\x72\x79\x5f\x69\144", $id)->delete(); goto ZHykK; ZHykK: return true; goto JLyIh; Sggkv: Db::table("\x63\141\x74\145\x67\157\x72\151\145\163")->where("\x69\x64", $id)->delete(); goto sor82; sor82: Db::table("\145\x78\x70\145\162\x74\x5f\143\x61\164\145\147\x6f\162\171\137\x72\145\x6c\141\164\x65")->where("\143\141\x74\145\147\157\162\171\x5f\151\144", $id)->delete(); goto SSY3o; JLyIh: } public function loadTargets() { $records = Db::table("\145\x78\160\145\x72\x74\137\164\141\162\147\x65\164")->field("\x69\144\54\164\141\162\x67\x65\164")->order("\151\144\x20\x61\163\x63")->select(); return $records; } public function getTargetInfos($id) { $infos = Db::table("\x65\170\160\x65\162\164\137\164\141\162\147\145\x74")->where("\x69\x64", $id)->field("\151\x64\x2c\x74\141\x72\x67\145\x74")->find(); return $infos; } public function saveTarget($id, $infos) { goto JDzTs; R4URf: Db::table("\145\170\x70\x65\162\164\x5f\x74\x61\x72\x67\145\164")->insert($infos); goto lur57; lur57: goto pwIFe; goto bFLwc; Qy0f_: return true; goto Bmxpl; JDzTs: if ($id) { goto O7CXf; } goto R4URf; gay4C: Db::table("\145\170\160\x65\x72\x74\x5f\164\x61\162\147\x65\164")->where("\151\x64", $id)->update($infos); goto pz_uQ; pz_uQ: pwIFe: goto Qy0f_; bFLwc: O7CXf: goto gay4C; Bmxpl: } public function deleteTarget($id) { goto R2uoF; z9jfc: Db::table("\x65\x78\160\x65\x72\164\x5f\x74\x61\x72\x67\145\x74\x5f\x72\x65\154\x61\164\x65")->where("\164\141\x72\147\x65\x74\137\151\x64", $id)->delete(); goto VgfbO; VgfbO: return true; goto BuELF; R2uoF: Db::table("\x65\170\160\145\162\x74\137\164\x61\x72\x67\x65\164")->where("\x69\x64", $id)->delete(); goto z9jfc; BuELF: } }
